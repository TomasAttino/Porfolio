---
import Carousel from './Carousel.astro';
import TecnologiasIcono from './TecnologiasIcono.astro';

interface Technology {
  name: string;
  icon?: string;
}

interface Props {
  title: string;
  description: string;
  imgUrl: string[];
  linkProyecto?: string;
  date: string;
  tecnologias: Technology[];
}

const { title, description,imgUrl, linkProyecto, date, tecnologias } = Astro.props;
---

<li class="mb-10 ms-4">
    <div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"></div>
    
    <time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">{date}</time>
    
    <h3 class="text-lg font-semibold text-green-300 dark:text-white my-2">
        {title}
    </h3>
    
    <p class="mb-2 text-base font-normal text-gray-400 dark:text-gray-400 text-pretty">
        {description}
    </p>

        <div class="flex flex-col gap-y-3 mb-4">
        <strong class="flex flex-row gap-2"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-robot"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z" /><path d="M12 2v2" /><path d="M9 12v9" /><path d="M15 12v9" /><path d="M5 16l4 -2" /><path d="M15 14l4 2" /><path d="M9 18h6" /><path d="M10 8v.01" /><path d="M14 8v.01" /></svg></span> <p>Tecnologías utilizadas:</p></strong>
        <div class="flex flex-wrap gap-2 mb-4">
            {tecnologias.map((tech) => (
                <TecnologiasIcono name={tech.name} icon={tech.icon} />
            ))}
        </div>
    </div>

    
    {imgUrl && imgUrl.length > 0 && (
        <Carousel images={imgUrl} projectTitle={title} />
    )}
    

    {linkProyecto && (
        <div class="flex gap-2 flex-wrap m-2">
            <a 
                href={linkProyecto} 
                target="_blank" 
                rel="noopener noreferrer" 
                class="rounded-full border border-white/10 bg-white/5 flex justify-center items-center gap-x-2 py-1 lg:py-2 px-2 lg:px-4 text-xs lg:text-base ng-white/5
                hover:scale-110 hover:bg-white/10 transition"            >
                <svg 
                    class="size-5" 
                    xmlns="http://www.w3.org/2000/svg" 
                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"
                >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                    <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
                </svg>
                
                Ver código 
            </a>
        </div>
    )}
</li>